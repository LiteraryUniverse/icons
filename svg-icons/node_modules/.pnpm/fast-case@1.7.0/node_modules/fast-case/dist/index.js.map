{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["const CHAR_UPPER_A = 0x41\nconst CHAR_LOWER_A = 0x61\nconst CHAR_UPPER_Z = 0x5a\nconst CHAR_LOWER_Z = 0x7a\nconst CHAR_0 = 0x30\nconst CHAR_9 = 0x39\nconst CHAR_MINUS = 0x2d\nconst CHAR_SPACE = 0x20\nconst CHAR_UNDERSCORE = 0x5f\n\ntype ObjectOrArray = Record<string, unknown> | Array<unknown>\n\nfunction isUpper(c: number) {\n  return CHAR_UPPER_A <= c && c <= CHAR_UPPER_Z\n}\n\nfunction isLower(c: number) {\n  return CHAR_LOWER_A <= c && c <= CHAR_LOWER_Z\n}\n\nfunction isDigit(c: number) {\n  return CHAR_0 <= c && c <= CHAR_9\n}\n\nfunction toUpper(c: number) {\n  return c - 0x20\n}\n\nfunction toLower(c: number) {\n  return c + 0x20\n}\n\nexport function camelize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (isDigit(firstChar) || firstChar === CHAR_MINUS || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = isUpper(firstChar)\n  const transformed = changed ? [toLower(firstChar)] : [firstChar]\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    let c = str.charCodeAt(i)\n\n    if (c === CHAR_UNDERSCORE || c === CHAR_SPACE || c === CHAR_MINUS) {\n      changed = true\n      c = str.charCodeAt(++i)\n\n      if (isNaN(c)) {\n        return str\n      }\n\n      if (isLower(c)) {\n        transformed.push(toUpper(c))\n      } else {\n        transformed.push(c)\n      }\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function decamelize(str: string, sep?: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (!isLower(firstChar) || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = false\n  const transformed = [firstChar]\n\n  let separator = CHAR_UNDERSCORE\n\n  if (sep && sep.charCodeAt(0)) {\n    separator = sep.charCodeAt(0)\n  }\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    const c = str.charCodeAt(i)\n\n    if (isUpper(c)) {\n      changed = true\n      transformed.push(separator)\n      transformed.push(toLower(c))\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function pascalize(str: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (isDigit(firstChar) || firstChar === CHAR_MINUS || isNaN(firstChar)) {\n    return str\n  }\n\n  let changed = isLower(firstChar)\n  const transformed = changed ? [toUpper(firstChar)] : [firstChar]\n\n  const len = str.length\n  for (let i = 1; i < len; i++) {\n    let c = str.charCodeAt(i)\n\n    if (c === CHAR_UNDERSCORE || c === CHAR_SPACE || c === CHAR_MINUS) {\n      changed = true\n      c = str.charCodeAt(++i)\n\n      if (isNaN(c)) {\n        return str\n      }\n\n      if (isLower(c)) {\n        transformed.push(toUpper(c))\n      } else {\n        transformed.push(c)\n      }\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  if (!changed) {\n    return str\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nexport function depascalize(str: string, sep?: string) {\n  const firstChar = str.charCodeAt(0)\n\n  if (!isUpper(firstChar) || isNaN(firstChar)) {\n    return str\n  }\n\n  const transformed = [toLower(firstChar)]\n\n  let separator = CHAR_UNDERSCORE\n\n  if (sep && sep.charCodeAt(0)) {\n    separator = sep.charCodeAt(0)\n  }\n\n  const length = str.length\n  for (let i = 1; i < length; i++) {\n    const c = str.charCodeAt(i)\n\n    if (isUpper(c)) {\n      transformed.push(separator)\n      transformed.push(toLower(c))\n    } else {\n      transformed.push(c)\n    }\n  }\n\n  return String.fromCharCode.apply(undefined, transformed)\n}\n\nfunction isObjectOrArray(value: unknown): value is ObjectOrArray {\n  return Boolean(value) && typeof value === 'object' && !(value instanceof Function) && !(value instanceof Date)\n}\n\nfunction transformArray(array: Array<unknown>, transform: (key: string, sep?: string) => string, sep?: string) {\n  const length = array.length\n  const transformed = new Array(length)\n  let idx = 0\n  for (const item of array) {\n    transformed[idx++] = isObjectOrArray(item) ? transformKeys(item, transform, sep) : item\n  }\n  return transformed\n}\n\nfunction transformKeys(\n  obj: ObjectOrArray | Array<unknown>,\n  transform: (key: string, sep?: string) => string,\n  sep?: string,\n) {\n  if (Array.isArray(obj)) {\n    return transformArray(obj, transform, sep)\n  }\n\n  if (typeof obj.prototype !== 'undefined') {\n    return obj\n  }\n\n  const transformed: Record<string, unknown> = {}\n  for (const key in obj) {\n    const value = obj[key]\n    const nextKey = transform(key, sep)\n    transformed[nextKey] = isObjectOrArray(value) ? transformKeys(value, transform, sep) : value\n  }\n  return transformed\n}\n\nfunction transformArrayInPlace(array: Array<unknown>, transform: (key: string, sep?: string) => string, sep?: string) {\n  let idx = 0\n  for (const item of array) {\n    array[idx++] = isObjectOrArray(item) ? transformKeysInPlace(item, transform, sep) : item\n  }\n  return array\n}\n\nfunction transformKeysInPlace(obj: ObjectOrArray, transform: (key: string, sep?: string) => string, sep?: string) {\n  if (Array.isArray(obj)) {\n    return transformArrayInPlace(obj, transform, sep)\n  }\n\n  for (const key in obj) {\n    const value = obj[key]\n    const nextKey = transform(key, sep)\n\n    if (nextKey !== key) {\n      delete obj[key]\n    }\n\n    obj[nextKey] = isObjectOrArray(value) ? transformKeysInPlace(value, transform, sep) : value\n  }\n\n  return obj\n}\n\nexport function camelizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, camelize)\n}\n\nexport function decamelizeKeys(obj: ObjectOrArray, sep?: string) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, decamelize, sep)\n}\n\nexport function pascalizeKeys(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, pascalize)\n}\n\nexport function depascalizeKeys(obj: ObjectOrArray, sep?: string) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeys(obj, depascalize, sep)\n}\n\nexport function camelizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, camelize)\n}\n\nexport function decamelizeKeysInPlace(obj: ObjectOrArray, sep?: string) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, decamelize, sep)\n}\n\nexport function pascalizeKeysInPlace(obj: ObjectOrArray) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, pascalize)\n}\n\nexport function depascalizeKeysInPlace(obj: ObjectOrArray, sep?: string) {\n  if (!isObjectOrArray(obj)) {\n    return obj\n  }\n\n  return transformKeysInPlace(obj, depascalize, sep)\n}\n"],"names":["isUpper","c","isLower","isDigit","toUpper","toLower","camelize","str","firstChar","charCodeAt","isNaN","changed","transformed","length","i","push","String","fromCharCode","apply","undefined","decamelize","sep","separator","pascalize","len","depascalize","isObjectOrArray","value","Boolean","Function","Date","transformKeys","obj","transform","Array","isArray","array","idx","item","transformArray","prototype","key","transformKeysInPlace","transformArrayInPlace","nextKey"],"mappings":"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"}