"use strict";
/*!
 * Copyright 2019 Palantir Technologies, Inc.
 *
 * Licensed under the MIT license. See LICENSE file in the project root for details.
 *
 */
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const fs = tslib_1.__importStar(require("fs"));
const path = tslib_1.__importStar(require("path"));
const readJson_1 = require("./readJson");
function findWorkspaceDir(dir) {
    const packagePath = path.join(dir, "package.json");
    if (fs.existsSync(packagePath)) {
        const packageJson = readJson_1.readJson(packagePath);
        if (packageJson.workspaces !== undefined) {
            return dir;
        }
    }
    const nextDir = path.normalize(path.join(dir, ".."));
    if (nextDir === dir) {
        return undefined;
    }
    return findWorkspaceDir(nextDir);
}
exports.findWorkspaceDir = findWorkspaceDir;
//# sourceMappingURL=findWorkspaceDir.js.map